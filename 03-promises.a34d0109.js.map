{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,WAGA,IAAMC,EAAOC,SAASC,cAAc,SAE9BC,EAASC,EAAAN,GAASO,OAWxB,IAQMC,EAAe,SAAAC,GAGnB,I,kBACE,IAAMC,EAAKC,EACXC,YAAW,W,OAtBf,SAAuBC,EAAUC,GACTC,KAAKC,SAAW,GAEpCX,EAAOY,QAAQ,sBAAqCC,OAAfL,EAAS,QAAYK,OAANJ,EAAM,OAE1DT,EAAOc,QAAQ,oBAAmCD,OAAfL,EAAS,QAAYK,OAANJ,EAAM,M,CAiBvCM,CAAcC,EAAGX,E,GAAKA,GACvCC,GAAgBW,C,EANIR,EAAKL,EAALK,MAAOS,EAAId,EAAJc,KAAMC,EAAMf,EAANe,OAC7BF,EAAWG,OAAOF,GACpBZ,EAAec,OAAOX,GACjBY,EAAI,EAAGA,GAAKF,EAAQE,GAAK,EAACC,EAAAD,E,EAarCxB,EAAK0B,iBAAiB,UANL,SAAAC,GACfA,EAAEC,iBACF,IApB4BC,EAoBtBC,EAnBC,CACLlB,OAF0BiB,EAoBWF,EAAEI,eAlBzBnB,MAAMoB,MACpBX,KAAMQ,EAAOR,KAAKW,MAClBV,OAAQO,EAAOP,OAAOU,OAiBxB1B,EAAawB,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport 'notiflix/dist/notiflix-3.2.5.min';\n\nconst form = document.querySelector('.form');\n\nconst notify = Notiflix.Notify;\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    notify.success(`Fullfilled promise ${position} in ${delay}ms`);\n  } else {\n    notify.failure(`Rejected promise ${position} in ${delay}ms`);\n  }\n}\n\nconst formResultConstructor = target => {\n  return {\n    delay: target.delay.value,\n    step: target.step.value,\n    amount: target.amount.value,\n  };\n};\n\nconst createEvents = ({ delay, step, amount }) => {\n  const interval = Number(step);\n  let currentDelay = Number(delay);\n  for (let i = 1; i <= amount; i += 1) {\n    const cd = currentDelay;\n    setTimeout(() => createPromise(i, cd), cd);\n    currentDelay += interval;\n  }\n};\n\nconst onSubmit = e => {\n  e.preventDefault();\n  const formData = formResultConstructor(e.currentTarget);\n  createEvents(formData);\n};\n\nform.addEventListener('submit', onSubmit);\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$notify","$parcel$interopDefault","Notify","$ce04d3a99e08e73b$var$createEvents","param","cd","currentDelay","setTimeout","position","delay","Math","random","success","concat","failure","$ce04d3a99e08e73b$var$createPromise","i","interval","step","amount","Number","i1","_loop","addEventListener","e","preventDefault","target","formData","currentTarget","value"],"version":3,"file":"03-promises.a34d0109.js.map"}