{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,WAGA,MAAMC,EAAOC,SAASC,cAAc,SAE9BC,EAASC,EAAAN,GAASO,OAExB,SAASC,EAAcC,EAAUC,GACTC,KAAKC,SAAW,GAEpCP,EAAOQ,QAAQ,sBAAsBJ,QAAeC,OAEpDL,EAAOS,QAAQ,oBAAoBL,QAAeC,M,CA4BtDR,EAAKa,iBAAiB,UANLC,IACfA,EAAEC,iBAnB0B,IAAAC,EAQT,GAACR,MAAEA,EAAKS,KAAEA,EAAIC,OAAEA,MACnC,MAAMC,EAAWC,OAAOH,GACxB,IAAII,EAAeD,OAAOZ,GAC1B,IAAK,IAAIc,EAAI,EAAGA,GAAKJ,EAAQI,GAAK,EAAG,CACnC,MAAMC,EAAKF,EACXG,YAAW,IAAMlB,EAAcgB,EAAGC,IAAKA,GACvCF,GAAgBF,C,GAOlBM,CApBO,CACLjB,OAF0BQ,EAoBWF,EAAEY,eAlBzBlB,MAAMmB,MACpBV,KAAMD,EAAOC,KAAKU,MAClBT,OAAQF,EAAOE,OAAOS,OAiBF","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport 'notiflix/dist/notiflix-3.2.5.min';\n\nconst form = document.querySelector('.form');\n\nconst notify = Notiflix.Notify;\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    notify.success(`Fullfilled promise ${position} in ${delay}ms`);\n  } else {\n    notify.failure(`Rejected promise ${position} in ${delay}ms`);\n  }\n}\n\nconst formResultConstructor = target => {\n  return {\n    delay: target.delay.value,\n    step: target.step.value,\n    amount: target.amount.value,\n  };\n};\n\nconst createEvents = ({ delay, step, amount }) => {\n  const interval = Number(step);\n  let currentDelay = Number(delay);\n  for (let i = 1; i <= amount; i += 1) {\n    const cd = currentDelay;\n    setTimeout(() => createPromise(i, cd), cd);\n    currentDelay += interval;\n  }\n};\n\nconst onSubmit = e => {\n  e.preventDefault();\n  const formData = formResultConstructor(e.currentTarget);\n  createEvents(formData);\n};\n\nform.addEventListener('submit', onSubmit);\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$notify","$parcel$interopDefault","Notify","$47d4ff9957288465$var$createPromise","position","delay","Math","random","success","failure","addEventListener","e","preventDefault","target","step","amount","interval","Number","currentDelay","i","cd","setTimeout","$47d4ff9957288465$var$createEvents","currentTarget","value"],"version":3,"file":"03-promises.b4b57e10.js.map"}